<div class="container">
  <div *ngIf="loading" class="spinner"><mat-spinner></mat-spinner></div>
  <div *ngIf="!loading && task">
    <h1>{{ task.title }}</h1>
    <div class="badges">
      <span class="badge badge-{{task.priority}}">{{ task.priority }}</span>
      <span class="badge badge-{{task.status}}">{{ task.status }}</span>
    </div>
    <mat-card>
      <p *ngIf="task.description">{{ task.description }}</p>
      <div class="task-details">
        <div><mat-icon>schedule</mat-icon> {{ task.estimatedMinutes }} minutes</div>
        <div><mat-icon>calendar_today</mat-icon> {{ task.dueDate | date:'medium' }}</div>
        <div><mat-icon>emoji_events</mat-icon> {{ task.points }} points</div>
      </div>
      <div class="actions" *ngIf="task.status !== 'completed'">
        <button mat-raised-button color="primary" (click)="completeTask()">Complete Task</button>
        <button mat-raised-button color="warn" (click)="deleteTask()">Delete</button>
      </div>
    </mat-card>
  </div>
</div>
